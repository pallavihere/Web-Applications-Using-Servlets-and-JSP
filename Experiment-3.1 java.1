 // Part A: User Login Using Servlet and HTML Form.
 //(|). HTML Form (login.html)
 <!DOCTYPE html>
<html>
<head><title>Login</title></head>
<body>
  <form action="LoginServlet" method="post">
    Username: <input type="text" name="username" required><br>
    Password: <input type="password" name="password" required><br>
    <input type="submit" value="Login">
  </form>
</body>
</html>

// (||). Servlet (LoginServlet.java)
 import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class LoginServlet extends HttpServlet {
  protected void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
    response.setContentType("text/html");
    PrintWriter out = response.getWriter();

    String username = request.getParameter("username");
    String password = request.getParameter("password");

    if ("admin".equals(username) && "1234".equals(password)) {
      out.println("<h2>Welcome, " + username + "!</h2>");
    } else {
      out.println("<h2>Invalid credentials. Please try again.</h2>");
    }
  }
}
//(|||). web.xml Configuration.

<servlet>
  <servlet-name>LoginServlet</servlet-name>
  <servlet-class>LoginServlet</servlet-class>
</servlet>
<servlet-mapping>
  <servlet-name>LoginServlet</servlet-name>
  <url-pattern>/LoginServlet</url-pattern>
</servlet-mapping>




// Part B: Display Employee Records with JDBC and Servlet
// (|). Database Setup
CREATE TABLE Employee (
  EmpID INT PRIMARY KEY,
  Name VARCHAR(100),
  Salary DECIMAL(10,2)
);

// (||). HTML Search Form (employeeSearch.html)
<form action="EmployeeServlet" method="post">
  Enter Employee ID: <input type="text" name="empid">
  <input type="submit" value="Search">
</form>

// (|||). Servlet (EmployeeServlet.java)
import java.io.*;
import java.sql.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class EmployeeServlet extends HttpServlet {
  protected void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
    response.setContentType("text/html");
    PrintWriter out = response.getWriter();
    String empid = request.getParameter("empid");

    try {
      Class.forName("com.mysql.cj.jdbc.Driver");
      Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/nimbus", "root", "password");

      Statement stmt = con.createStatement();
      ResultSet rs;

      if (empid != null && !empid.isEmpty()) {
        rs = stmt.executeQuery("SELECT * FROM Employee WHERE EmpID=" + empid);
      } else {
        rs = stmt.executeQuery("SELECT * FROM Employee");
      }

      out.println("<table border='1'><tr><th>EmpID</th><th>Name</th><th>Salary</th></tr>");
      while (rs.next()) {
        out.println("<tr><td>" + rs.getInt("EmpID") + "</td><td>" +
                    rs.getString("Name") + "</td><td>" +
                    rs.getDouble("Salary") + "</td></tr>");
      }
      out.println("</table>");
      con.close();
    } catch (Exception e) {
      out.println("Error: " + e.getMessage());
    }
  }
}





// Part C: Student Attendance Portal Using JSP and Servlet
// (|). JSP Page (attendance.jsp)
<%@ page language="java" contentType="text/html; charset=UTF-8" %>
<html>
<head><title>Attendance</title></head>
<body>
  <form action="AttendanceServlet" method="post">
    Student ID: <input type="text" name="studentId"><br>
    Date: <input type="date" name="date"><br>
    Status: 
    <select name="status">
      <option value="Present">Present</option>
      <option value="Absent">Absent</option>
    </select><br>
    <input type="submit" value="Submit Attendance">
  </form>
</body>
</html>

// (||). Servlet (AttendanceServlet.java)
import java.io.*;
import java.sql.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class AttendanceServlet extends HttpServlet {
  protected void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
    String studentId = request.getParameter("studentId");
    String date = request.getParameter("date");
    String status = request.getParameter("status");

    try {
      Class.forName("com.mysql.cj.jdbc.Driver");
      Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/nimbus", "root", "password");

      PreparedStatement ps = con.prepareStatement("INSERT INTO Attendance (StudentID, Date, Status) VALUES (?, ?, ?)");
      ps.setString(1, studentId);
      ps.setString(2, date);
      ps.setString(3, status);
      ps.executeUpdate();

      response.sendRedirect("success.jsp");
      con.close();
    } catch (Exception e) {
      response.getWriter().println("Error: " + e.getMessage());
    }
  }
}

// (|||). Database Table
CREATE TABLE Attendance (
  StudentID VARCHAR(20),
  Date DATE,
  Status VARCHAR(10)
);










